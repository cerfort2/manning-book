{
    "resource": [
        {
            "google_compute_network": {
                "blue": [
                    {
                        "auto_create_subnetworks": false,
                        "name": "sundew-production-network-blue"
                    }
                ]
            }
        },
        {
            "google_compute_subnetwork": {
                "blue": [
                    {
                        "ip_cidr_range": "10.0.0.0/24",
                        "name": "sundew-production-network-blue-subnet",
                        "network": "${google_compute_network.blue.name}",
                        "region": "us-central1"
                    }
                ]
            }
        },
        {
            "google_container_cluster": {
                "blue": [
                    {
                        "initial_node_count": 1,
                        "location": "us-central1",
                        "name": "sundew-production-cluster-blue",
                        "network": "${google_compute_network.blue.name}",
                        "remove_default_node_pool": true
                    }
                ]
            },
            "google_container_node_pool": {
                "blue": [
                    {
                        "cluster": "${google_container_cluster.blue.name}",
                        "location": "us-central1",
                        "name": "sundew-production-cluster-nodes-blue",
                        "node_config": [
                            {
                                "machine_type": "e2-medium",
                                "oauth_scopes": [
                                    "https://www.googleapis.com/auth/cloud-platform"
                                ],
                                "preemptible": true,
                                "service_account": "${google_service_account.blue.email}"
                            }
                        ],
                        "node_count": 1
                    }
                ]
            },
            "google_service_account": {
                "blue": [
                    {
                        "account_id": "sundew-production-sa-blue",
                        "display_name": "sundew-production-sa-blue"
                    }
                ]
            }
        },
        {
            "google_compute_instance": {
                "blue_0": [
                    {
                        "allow_stopping_for_update": true,
                        "boot_disk": [
                            {
                                "initialize_params": [
                                    {
                                        "image": "ubuntu-1804-lts"
                                    }
                                ]
                            }
                        ],
                        "labels": {
                            "automated": true,
                            "environment": "production",
                            "team": "sundew"
                        },
                        "machine_type": "f1-micro",
                        "name": "sundew-production-server-blue-0",
                        "network_interface": [
                            {
                                "network": "${google_compute_network.blue.name}"
                            }
                        ],
                        "zone": "us-central1-a"
                    }
                ]
            }
        },
        {
            "google_compute_instance": {
                "blue_1": [
                    {
                        "allow_stopping_for_update": true,
                        "boot_disk": [
                            {
                                "initialize_params": [
                                    {
                                        "image": "ubuntu-1804-lts"
                                    }
                                ]
                            }
                        ],
                        "labels": {
                            "automated": true,
                            "environment": "production",
                            "team": "sundew"
                        },
                        "machine_type": "f1-micro",
                        "name": "sundew-production-server-blue-1",
                        "network_interface": [
                            {
                                "network": "${google_compute_network.blue.name}"
                            }
                        ],
                        "zone": "us-central1-b"
                    }
                ]
            }
        },
        {
            "google_compute_instance": {
                "blue_2": [
                    {
                        "allow_stopping_for_update": true,
                        "boot_disk": [
                            {
                                "initialize_params": [
                                    {
                                        "image": "ubuntu-1804-lts"
                                    }
                                ]
                            }
                        ],
                        "labels": {
                            "automated": true,
                            "environment": "production",
                            "team": "sundew"
                        },
                        "machine_type": "f1-micro",
                        "name": "sundew-production-server-blue-2",
                        "network_interface": [
                            {
                                "network": "${google_compute_network.blue.name}"
                            }
                        ],
                        "zone": "us-central1-c"
                    }
                ]
            }
        }
    ]
}